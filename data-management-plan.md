# websci2018-reproducibility-pack (Horizon 2020 DMP)

## 1. Data Summary
### Purpose
This repository contains the materials to reproduce all figures, tables and other data analysis results reported in our Web Science 2018 paper: 

Hollink, Laura, Astrid van Aggelen, and Jacco van Ossenbruggen. 
[Using the Web of Data to Study Gender Differences in Online Knowledge Sources: the Case of the European Parliament](https://ir.cwi.nl/pub/27616). 
ACM Conference on Web Science, May 2018, Amsterdam, The Netherlands. doi:10.1145/3201064.3201108

### Relation to the objectives of the project
One of the objectives of the VRE4EIC project is to provide infrastructure that increases 
_transparancy_ and _reproducability_ of computation in virtual research environments.
This reproducibility pack targets these objectives by:
1. Making all data and software used in the paper cited above publically available on platforms such as github and docker.
2. Storing a snapshot of this pack on zenodo for long term archival 
3. Demonstrate how the [SWISH](https://swish.swi-prolog.org) software improves transparancy by enabling a more declarative and collaborative approach to data science.

### Types and formats
The paper uses data from three RDF named graphs, stored in gzipped turtle file format. 
These files are included in the vre4eic/gender-demo-data docker image in the /data/toe directory, and have the associated md5sum values:
```
070ca73229931c9d0dd4cc1e4648ed75  Events_and_structure.ttl.gz
3ab7d22806fca083de6b4fd748392913  MembersOfParliament_background.ttl.gz
8717380919675bf732941f3aa03e3fcd  mep_wikidata.ttl.gz
```
These file are also in the gender-demo-data git submodule, as part of the ./gender-demo-data/toe.tgz gzipped tar file.

### Reuse and origin of existing data
All three named graphs have been downloaded from the Talk of Europe project website, see http://www.talkofeurope.eu/ and http://linkedpolitics.ops.few.vu.nl/
If you use this data, please cite the corresponding open access paper:

Astrid van Aggelen, Laura Hollink, Max Kemman, Martijn Kleppe, Henri Beunders. The debates of the European Parliament as Linked Open Data. Semantic Web 8(2), pp. 271-281, 2017, IOS Press
https://doi.org/10.3233/SW-160227.

The mep\_wikidata graph has been generated by querying wikidata.org on all triples of which the object or subject is a resource with a MEP ID property (P1186).
The queries have been executed on 2018-04-03, and the following queries where used:
* https://query.wikidata.org/sparql?query=%0ASELECT%20?mep%20?mepLabel%20?mep_id%20?genderLabel%20WHERE%0A%7B%0A%20%20?mep%20wdt%3AP1186%20?mep_id%20.%0A%20%20OPTIONAL%20%7B%20?mep%20wdt%3AP21%20?gender%20.%7D%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%0A%20%20%20%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22%20.%0A%20%20%7D%0A%7D%20ORDER%20BY%20?mep_id%0A#
* https://query.wikidata.org/sparql?query=CONSTRUCT%20%7B?subj%20?prop%20?mep.%7D%20WHERE%0A%7B%0A%20%20?mep%20wdt%3AP1186%20?mep_id%20.%0A%20%20?subj%20?prop%20?mep%20.%0A%7D%0A#
* https://query.wikidata.org/sparql?query=%0ACONSTRUCT%20%7B?mep%20?dprop%20?value.%20?dprop%20rdfs%3Alabel%20?propLabel%20%7D%20WHERE%0A%7B%0A%20%20?mep%20wdt%3AP1186%20?mep_id%20.%0A%20%20?mep%20?dprop%20?value%20.%0A%20%20OPTIONAL%20%7B%0A%20%20%20%20%20%20?prop%20wikibase%3AdirectClaim%20?dprop%20.%0A%20%20%20%20%20%20?prop%20rdfs%3Alabel%20?propLabel%20.%0A%20%20%20%20%20%20FILTER%20(lang(?propLabel)%20%3D%20%22en%22%20)%0A%20%20%7D%0A%7D%0A#

The MembersOfParliament\_background graph has been generated by a conversion to RDF of the CSV data obtained at 2018-04-09 from https://nabu.usit.uio.no/sv/isv/sendquery.php?query=%7B%22bool%22:%7B%22must%22:%5B%7B%22range%22:%7B%22parliament.to%22:%7B%22gte%22:%2219690720%22%7D%7D%7D,%7B%22range%22:%7B%22parliament.from%22:%7B%22lte%22:%2220180801%22%7D%7D%7D%5D%7D%7D

The Events\_and\_structure graph is the core graph of the Talk of Europe project and models in RDF all speeches in the European Parliament as crawled from http://europarl.europa.eu
More information on this data is available from the Talk of Europe data website http://linkedpolitics.ops.few.vu.nl/

### Size of the data
The toe.tgz file size is 29M, decompressed file sizes of the turtle files are:
```
308M	Events_and_structure.ttl
 36M	MembersOfParliament_background.ttl
 17M	mep_wikidata.ttl
```

### Data utility:
The data is useful to anyone who:
* would like to reproduce results from the cited paper
* would like to run similary data analytics without recollecting the data
* would like a to quickly set up an instance of the SWISH platform with a realistic data science example pre-installed

## 2. FAIR data

### 2.1 Findable 

The data has been published on docker, github and zenodo (keywords: reproducibility; 'web science 2018'; 'gender bias'),
and clearly linked to the Web Science 2018 paper and to the VRE4EIC project on all platforms.
The data and software uses git for versioning.
The original version of the data has been archived and assigned a DOI as a persistent and unique identifier: 10.5281/zenodo.1232930.
The DOI 10.5281/zenodo.1232929 will be used to point to the most recent archived version.

### 2.2 Openly Accessible
The data is openly available using a number of channels:

1.  As a 
[public swish web server](https://vre4eic.project.cwi.nl/gender/p/tables_and_figures_from_paper.swinb)
that contains all code in an executable notebook style interface. We will try to keep this server up and running. In case it is down anyway, below are several options to rebuild the server yourself.
2. Virtual machine image version.
A virtual machine image is available from https://doi.org/10.5281/zenodo.1237673. It is archived as an Open Virtual Appliance (.ova file) that packaging the vmdk disk image with Open Virtual Machine Format (ovf) metadata descriptor. The image is based on a standard Ubuntu 17.04 iso image, with checked-out versions of all relevant source code and data (see below) and installed version of the docker images (see below).  On bootup, the docker images running in the guest will start an web server that is available from the host at 127.0.0.1:3052/gender/p/tables_and_figures_from_paper.swinb.  The virtual machine can be accessed using the user name "vre" with password "vrevre".
3. As a docker image. This repo contains the materials to start your own copy of the above server using docker. It is started by simply running 
```bash
docker-compose up -d
``` 
in the directory folder of the docker-compose.yml file contained in this repo. 
Provided that you have docker and docker-compose set up on your machine, just running the above command should pull the docker images from docker hub and start the webserver at 
```http://localhost:3052/gender/p/tables_and_figures_from_paper.swinb```
4. Soure code version
The repo contains git submodules linking to other git repositories with source code of other projects used in the paper, run
```bash
git submodule update --init --recursive
```
to populated all source code submodules.  The repos to rebuild the docker images used in the docker version are also included.

### 2.3 Interoperability
All data used conforms to the RDF, RDFS and Turtle specifications of W3C. Existing vocabularies such as SKOS, Dublin Core, FOAF and XSD have been reused where possible.
The vocabulary associated with the Talk of Europe project has been described in
Astrid van Aggelen, Laura Hollink, Max Kemman, Martijn Kleppe, Henri Beunders. The debates of the European Parliament as Linked Open Data. Semantic Web 8(2), pp. 271-281, 2017, IOS Press


### 2.4 Re-use, quality and licensing
The data used has been produced by the Talk of Europe project and described in the peer-reviewed journal paper cited above. 
The version of the data we used here has been updated to fix all known and previously reported errors.
The software and data are released under a permissive [simplified BSD licence](./LICENSE) and may be reused without further restrictions.
The data being archived here may be used for an unlimited time period but users are strongly urged to use the most recent version available.

## 3. Allocation of resources
The data and software used and provided here have been produced by reusing results from a large number of open source and open data projects,
and without these this research would not have been possible.
The additional resources used to make this data FAIR have been covered by the VRE4EIC project, funded from H2020 grant No 676247.

## 4. Data security
All data used was already availble as public open data and does, to the best of our knowledge, not contain sensitive data.
Long term storage has been secured by archiving at zenodo.org.
To check potential tempering with the data after archival, MD5 checksums of all files have been provided.

## 5. Ethical apects.
The software and data made available here have been published at other places before, and the republication reported here has not
been subjected to a separate ethical review.

## 6. Other
This data management plan aims at being compatible with that of the VRE4EIC project, the Horizon 2020 Data Management Plan template and
the CWI research data and software management policy.

For questions about the data please contact Jacco.van.Ossenbruggen@cwi.nl
