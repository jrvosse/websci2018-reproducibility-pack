# websci2018-reproducibility-pack
Repo with materials to reproduce all data analysis, figures and tables of our Web Science 2018 paper: 

Hollink, Laura, Astrid van Aggelen, and Jacco van Ossenbruggen. 
[Using the Web of Data to Study Gender Differences in Online Knowledge Sources: the Case of the European Parliament](https://ir.cwi.nl/pub/27616). 
ACM Conference on Web Science, May 2018, Amsterdam, The Netherlands. doi:10.1145/3201064.3201108


# Online version
The simplest way to rerun the code is to ignore this repo and just point your browser to http://vre4eic.project.cwi.nl/gender/

This public swish web server contains all code in an executable notebook style interface.

# Docker version
This repo contains the materials to rebuild our public swish web server running at http://vre4eic.project.cwi.nl/gender/ 

Our server is started by running 
```bash
docker-compose up -d
``` 
on the docker-compose.yml file contained in this repo. 

Provided that you have docker and docker-compose set up on your machine, just running the above command should pull the docker images from docker hub and start the webserver at localhost:3052.

# Virtual machine image version
[link to vm image to be added]

# Soure code version
The repo contains git submodules linking to other git repositories with source code of other projects used in the paper, run
```bash
git submodule update --init --recursive
```
to populated all source code submodules. 

The repos to rebuild the docker images used in the docker version are also included.

# Data used
The paper uses data from three RDF named graphs, stored in gzipped turtle file format. These files are included in the vre4eic/gender-demo-data docker image in the /data/toe directory: 
```
/data/toe/Events_and_structure.ttl.gz
/data/toe/MembersOfParliament_background.ttl.gz
/data/toe/mep_wikidata.ttl.gz
```

These file are also in the gender-demo-data git submodule, as part of the ./gender-demo-data/rdf.tgz gzipped tar file.

All three named graphs have been downloaded from the Talk of Europe project website, see http://www.talkofeurope.eu/ and http://linkedpolitics.ops.few.vu.nl/
If you use this data, please cite the corresponding open access paper:

Astrid van Aggelen, Laura Hollink, Max Kemman, Martijn Kleppe, Henri Beunders. The debates of the European Parliament as Linked Open Data. Semantic Web 8(2), pp. 271-281, 2017, IOS Press
https://doi.org/10.3233/SW-160227.

The mep\_wikidata graph has been generated by querying wikidata.org on all triples of which the object or subject is a resource with a MEP ID property (P1186).
The queries have been executed on 2018-04-03, and the following queries where used:
* https://query.wikidata.org/sparql?query=%0ASELECT%20?mep%20?mepLabel%20?mep_id%20?genderLabel%20WHERE%0A%7B%0A%20%20?mep%20wdt%3AP1186%20?mep_id%20.%0A%20%20OPTIONAL%20%7B%20?mep%20wdt%3AP21%20?gender%20.%7D%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%0A%20%20%20%20bd%3AserviceParam%20wikibase%3Alanguage%20%22en%22%20.%0A%20%20%7D%0A%7D%20ORDER%20BY%20?mep_id%0A#
* https://query.wikidata.org/sparql?query=CONSTRUCT%20%7B?subj%20?prop%20?mep.%7D%20WHERE%0A%7B%0A%20%20?mep%20wdt%3AP1186%20?mep_id%20.%0A%20%20?subj%20?prop%20?mep%20.%0A%7D%0A#
* https://query.wikidata.org/sparql?query=%0ACONSTRUCT%20%7B?mep%20?dprop%20?value.%20?dprop%20rdfs%3Alabel%20?propLabel%20%7D%20WHERE%0A%7B%0A%20%20?mep%20wdt%3AP1186%20?mep_id%20.%0A%20%20?mep%20?dprop%20?value%20.%0A%20%20OPTIONAL%20%7B%0A%20%20%20%20%20%20?prop%20wikibase%3AdirectClaim%20?dprop%20.%0A%20%20%20%20%20%20?prop%20rdfs%3Alabel%20?propLabel%20.%0A%20%20%20%20%20%20FILTER%20(lang(?propLabel)%20%3D%20%22en%22%20)%0A%20%20%7D%0A%7D%0A#

The MembersOfParliament\_background has been generated by an conversion to RDF of the CSV data obtained at 2018-04-09 from https://nabu.usit.uio.no/sv/isv/sendquery.php?query=%7B%22bool%22:%7B%22must%22:%5B%7B%22range%22:%7B%22parliament.to%22:%7B%22gte%22:%2219690720%22%7D%7D%7D,%7B%22range%22:%7B%22parliament.from%22:%7B%22lte%22:%2220180801%22%7D%7D%7D%5D%7D%7D

The Events\_and\_structure graph is the core graph of the Talk of Europe project and models in RDF all speeches in the European Parliament as crawled from http://europarl.europa.eu
More information on this data is available from the Talk of Europe data website http://linkedpolitics.ops.few.vu.nl/
